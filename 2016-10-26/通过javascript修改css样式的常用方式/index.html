<!DOCTYPE html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=keywords content=blog,html,css,javascript,react,vue,nodejs><meta name=description content="zoubingwu 个人博客, zoubingwu's blog"><link href=/assets/images/favicon.ico rel=bookmark type=image/x-icon><link href=/assets/images/favicon.ico rel=icon type=image/x-icon><link href=/assets/images/favicon.ico rel="shortcut icon" type=image/x-icon><link rel=stylesheet href=/assets/css/main.css type=text/css><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=preload href=https://cdn.jsdelivr.net/npm/lxgw-wenkai-lite-webfont@1.6.0/style.css as=style><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/lxgw-wenkai-lite-webfont@1.6.0/style.css><link rel=stylesheet href=/assets/fonts/font-awesome.min.css type=text/css><link href="https://fonts.googleapis.com/css2?family=Merriweather:ital,wght@0,300;0,700;1,300;1,700&display=swap" rel=stylesheet><link rel=alternate type=application/rss+xml title="RSS Feed for zoubingwu's blog" href=/feed.xml><title>通过javascript修改css样式的常用方式 | https://zoubingwu.com</title><meta property=og:title content="通过javascript修改css样式的常用方式 | https://zoubingwu.com"><meta property=og:locale content=en_US><meta name=description content=总结JS一些常用的修改css样式的方式。><meta property=og:description content=总结JS一些常用的修改css样式的方式。><link rel=canonical href=https://zoubingwu.com/2016-10-26/通过javascript修改css样式的常用方式><meta property=og:url content=https://zoubingwu.com/2016-10-26/通过javascript修改css样式的常用方式><meta property=og:site_name content="zoubingwu's blog"><meta property=og:type content=article><meta property=article:published_time content=2016-10-26T00:48:21.000Z><meta name=twitter:card content=summary><meta property=twitter:title content="通过javascript修改css样式的常用方式 | https://zoubingwu.com"><script defer=defer src=https://static.cloudflareinsights.com/beacon.min.js data-cf-beacon='{"token": "76b8468271b24f3180af2110f74841c3"}'></script></head><body><main class=content-container><div class=post><div class=post-title>通过javascript修改css样式的常用方式</div><span class=post-date><time>26 Oct 2016</time></span><div class=post-tag><ul><li><a><span><i class="fa fa-paperclip" aria-hidden=true></i>javascript</span></a></li></ul></div><ul><li><p>通过dom element对象的<code>getAttribute()</code>、<code>setAttribute()</code>、<code>removeAttribute()</code>方法修改style属性。</p><ul><li><code>element.getAttribute()</code></li><li><code>element.getAttributeNode()</code></li><li><code>element.setAttribute()</code></li><li><code>element.setAttributeNode()</code></li><li><code>element.removeAttribute()</code></li><li><code>element.removeAttributeNode()</code></li></ul><p>比如：</p><pre><code class=language-javascript><pre class=shiki style="background-color: #282c34"><code><span class=line><span style="color: #C678DD">var</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">div</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">document</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">getElementById</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&quot;div1&quot;</span><span style="color: #ABB2BF">);</span></span>
<span class=line><span style="color: #E5C07B">div</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">setAttribute</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&quot;style&quot;</span><span style="color: #ABB2BF">, </span><span style="color: #98C379">&quot;color:red;height:200px;&quot;</span><span style="color: #ABB2BF">);</span></span></code></pre>
</code></pre></li></ul><hr><ul><li><p>通过对元素节点的style对象，来读写行内css样式。</p><p>比如：</p><pre><code class=language-javascript><pre class=shiki style="background-color: #282c34"><code><span class=line><span style="color: #C678DD">var</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">div</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">document</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">getElementById</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&quot;div1&quot;</span><span style="color: #ABB2BF">);</span></span>
<span class=line><span style="color: #E5C07B">div</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">style</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">height</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">&quot;100px&quot;</span><span style="color: #ABB2BF">;</span></span>
<span class=line><span style="color: #E5C07B">div</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">style</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">color</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">&quot;red&quot;</span><span style="color: #ABB2BF">;</span></span>
<span class=line><span style="color: #E5C07B">div</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">style</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">fontSize</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">&quot;20px&quot;</span><span style="color: #ABB2BF">;</span></span></code></pre>
</code></pre></li></ul><p>注意css属性在有小横杠的时候要改用驼峰命名，比如<code>background-color</code>应改为<code>backgroundColor</code>，在遇到js保留字的时候要添加css，比如<code>float</code>改为<code>cssFloat</code>。另外所有的值都是字符串，所以必须添加单位，比如高度不能设置为<code>100</code>，而是必须带上单位写为<code>100px</code>。</p><hr><ul><li><p>通过style对象的<code>cssText</code>属性来修改全部的style属性。</p><pre><code class=language-javascript><pre class=shiki style="background-color: #282c34"><code><span class=line><span style="color: #ABB2BF">&lt;</span><span style="color: #E06C75">span</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66; font-style: italic">id</span><span style="color: #56B6C2">=</span><span style="color: #98C379">&quot;s1&quot;</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66; font-style: italic">style</span><span style="color: #56B6C2">=</span><span style="color: #98C379">&quot;color: red;font-size: 20px;&quot;</span><span style="color: #ABB2BF">&gt;</span></span>
<span class=line><span style="color: #ABB2BF">Some text</span></span>
<span class=line><span style="color: #ABB2BF">&lt;/</span><span style="color: #E06C75">span</span><span style="color: #ABB2BF">&gt;</span></span>
<span class=line></span>
<span class=line><span style="color: #ABB2BF">&lt;</span><span style="color: #E06C75">script</span><span style="color: #ABB2BF">&gt;</span></span>
<span class=line><span style="color: #ABB2BF">  var elem = document.getElementById(&quot;s1&quot;);</span></span>
<span class=line><span style="color: #ABB2BF">  alert(elem.style.cssText); // </span><span style="color: #C678DD">{</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">color</span><span style="color: #ABB2BF">: </span><span style="color: #E06C75">red</span><span style="color: #ABB2BF">; </span><span style="color: #E06C75">font</span><span style="color: #56B6C2">-</span><span style="color: #E06C75">size</span><span style="color: #ABB2BF">: 20</span><span style="color: #E06C75">px</span><span style="color: #ABB2BF">;</span><span style="color: #C678DD">}</span></span>
<span class=line><span style="color: #ABB2BF">&lt;/</span><span style="color: #E06C75">script</span><span style="color: #ABB2BF">&gt;</span></span></code></pre>
</code></pre></li></ul><hr><ul><li><p>通过style对象的setProperty()，getPropertyValue()，removeProperty()方法来读写行内css样式。</p><blockquote><p>setProperty(propertyName,value)：设置某个CSS属性。 getPropertyValue(propertyName)：读取某个CSS属性。 removeProperty(propertyName)：删除某个CSS属性。</p></blockquote><p>这里的属性名字都不需要改写连词的横杠。</p><pre><code class=language-javascript><pre class=shiki style="background-color: #282c34"><code><span class=line><span style="color: #C678DD">var</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">div</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">document</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">getElementById</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;div1&#39;</span><span style="color: #ABB2BF">);</span></span>
<span class=line></span>
<span class=line><span style="color: #E5C07B">div</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">style</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">setProperty</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;background-color&#39;</span><span style="color: #ABB2BF">,</span><span style="color: #98C379">&#39;red&#39;</span><span style="color: #ABB2BF">);</span></span>
<span class=line><span style="color: #E5C07B">div</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">style</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">getPropertyValue</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;background-color&#39;</span><span style="color: #ABB2BF">);</span></span>
<span class=line><span style="color: #E5C07B">div</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">style</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">removeProperty</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;background-color&#39;</span><span style="color: #ABB2BF">);</span></span></code></pre>
</code></pre></li></ul><hr><ul><li><p>通过<code>window.getComputedStyle()</code>方法获得浏览器最终计算出来的样式规则。</p><p>因为网页元素最终的样式是综合多种规则计算出来的，而不仅仅是行内样式，通过这个方法就可以返回这个规则。</p><pre><code class=language-javascript><pre class=shiki style="background-color: #282c34"><code><span class=line><span style="color: #C678DD">var</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">div</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">document</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">querySelector</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;div&#39;</span><span style="color: #ABB2BF">);</span></span>
<span class=line><span style="color: #E5C07B">window</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">getComputedStyle</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF">).</span><span style="color: #E06C75">backgroundColor</span></span></code></pre>
</code></pre><p>可以通过第二个参数来选择指定节点的伪元素：</p><pre><code class=language-javascript><pre class=shiki style="background-color: #282c34"><code><span class=line><span style="color: #C678DD">var</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">result</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">window</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">getComputedStyle</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">div</span><span style="color: #ABB2BF">, </span><span style="color: #98C379">&#39;:before&#39;</span><span style="color: #ABB2BF">);</span></span></code></pre>
</code></pre><p>另比如如何获取元素的高度：</p><pre><code class=language-javascript><pre class=shiki style="background-color: #282c34"><code><span class=line><span style="color: #C678DD">var</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">elem</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">document</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">getElementById</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;elem-container&#39;</span><span style="color: #ABB2BF">);</span></span>
<span class=line><span style="color: #C678DD">var</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">hValue</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">window</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">getComputedStyle</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">elem</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">null</span><span style="color: #ABB2BF">)</span></span>
<span class=line><span style="color: #ABB2BF">  .</span><span style="color: #61AFEF">getPropertyValue</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;height&#39;</span><span style="color: #ABB2BF">);</span></span></code></pre>
</code></pre><p>注意这个得到的height属性是浏览器最终渲染出来的高度。</p><p>该方法有几点需要注意：</p><blockquote><ul><li>计算出来的CSS都是绝对单位，比如长度都是像素单位（返回值包括<code>px</code>后缀），颜色是<code>rgb(#, #, #)</code>或<code>rgba(#, #, #, #)</code>格式。</li><li>CSS规则的简便写法无效，比如想读取<code>margin</code>属性的值，不能直接读，只能读<code>marginLeft</code>、<code>marginTop</code>等属性。</li><li>如果一个元素不是绝对定位，<code>top</code>和<code>left</code>属性总是返回<code>auto</code>。</li><li>该方法返回的样式对象的<code>cssText</code>属性无效，返回<code>undefined</code>。</li><li>该方法返回的样式对象是只读的，如果想设置样式，应该使用元素节点的<code>style</code>属性。</li></ul></blockquote></li></ul><hr><ul><li><p>直接添加样式表。</p><p>可以通过创建style标签来添加内置样式表。</p><p>或者通过创建link标签来引入外部样式表。</p><pre><code class=language-javascript><pre class=shiki style="background-color: #282c34"><code><span class=line><span style="color: #C678DD">var</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">style1</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">document</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">createElement</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;style&#39;</span><span style="color: #ABB2BF">);</span></span>
<span class=line><span style="color: #E5C07B">style1</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">innerHTML</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">&#39;body{color:red}#top:hover{background-color: red;color: white;}&#39;</span><span style="color: #ABB2BF">;</span></span>
<span class=line><span style="color: #E5C07B">document</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">head</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">appendChild</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">style1</span><span style="color: #ABB2BF">);</span></span>
<span class=line></span>
<span class=line><span style="color: #C678DD">var</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">link1</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">document</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">createElement</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;link&#39;</span><span style="color: #ABB2BF">);</span></span>
<span class=line><span style="color: #E5C07B">link1</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">setAttribute</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;rel&#39;</span><span style="color: #ABB2BF">, </span><span style="color: #98C379">&#39;stylesheet&#39;</span><span style="color: #ABB2BF">);</span></span>
<span class=line><span style="color: #E5C07B">link1</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">setAttribute</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;type&#39;</span><span style="color: #ABB2BF">, </span><span style="color: #98C379">&#39;text/css&#39;</span><span style="color: #ABB2BF">);</span></span>
<span class=line><span style="color: #E5C07B">link1</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">setAttribute</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;href&#39;</span><span style="color: #ABB2BF">, </span><span style="color: #98C379">&#39;reset-min.css&#39;</span><span style="color: #ABB2BF">);</span></span>
<span class=line><span style="color: #E5C07B">document</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">head</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">appendChild</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">link1</span><span style="color: #ABB2BF">);</span></span></code></pre>
</code></pre><p>​</p></li></ul></div><div class=footer><hr><div class=footer-link><a href=/archive aria-label="Read more about all archives"><i class="fa fa-archive" aria-hidden=true></i> </a><a target=_blank href=https://twitter.com/chow_won aria-label="Read more on twitter"><i class="fa fa-twitter" aria-hidden=true></i></a> <a target=_blank href=https://github.com/zoubingwu aria-label="Read more on github"><i class="fa fa-github" aria-hidden=true></i> </a><a target=_blank href=mailto:zoubingwu@gmail.com aria-label=Email><i class="fa fa-envelope" aria-hidden=true></i></a></div>© 2016-2023 zoubingwu. All rights reserved.</div></main></body></html>