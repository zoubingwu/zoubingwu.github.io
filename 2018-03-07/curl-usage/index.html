<!DOCTYPE html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no"><meta name=keywords content=blog,html,css,javascript,react,vue,nodejs><meta name=description content="zoubingwu 个人博客, zoubingwu's blog"><link href=/assets/images/favicon.ico rel=bookmark type=image/x-icon><link href=/assets/images/favicon.ico rel=icon type=image/x-icon><link href=/assets/images/favicon.ico rel="shortcut icon" type=image/x-icon><link rel=stylesheet href=/assets/css/main.css type=text/css><link rel=preload href=/assets/fonts/googlefont.css as=style><link rel=preload href=https://cdn.bootcdn.net/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css as=style><link rel=stylesheet href=/assets/fonts/googlefont.css as=style><link rel=stylesheet href=https://cdn.bootcdn.net/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css as=style><link rel=alternate type=application/rss+xml title="RSS Feed for zoubingwu's blog" href=/feed.xml><title>curl usage | https://zoubingwu.com</title><meta property=og:title content="curl usage | https://zoubingwu.com"><meta property=og:locale content=en_US><meta name=description content="Brief summary about the usage of curl."><meta property=og:description content="Brief summary about the usage of curl."><link rel=canonical href=https://zoubingwu.com/2018-03-07/curl-usage><meta property=og:url content=https://zoubingwu.com/2018-03-07/curl-usage><meta property=og:site_name content="zoubingwu's blog"><meta property=og:type content=article><meta property=article:published_time content=2018-03-07T12:33:21.000Z><meta name=twitter:card content=summary><meta property=twitter:title content="curl usage | https://zoubingwu.com"><script>(function (i, s, o, g, r, a, m) { i['GoogleAnalyticsObject'] = r; (i[r] = i[r]
  || function () { (i[r].q = i[r].q || []).push(arguments); }), (i[r].l = 1 *
  new Date()); (a = s.createElement(o)), (m = s.getElementsByTagName(o)[0]);
  a.async = 1; a.src = g; m.parentNode.insertBefore(a, m); })( window, document,
  'script', 'https://www.google-analytics.com/analytics.js', 'ga' );
  ga('create', 'UA-100363260-1', 'auto'); ga('send', 'pageview');</script></head><body><div class=content-container><div class=post><div class=post-title>curl usage</div><span class=post-date><time>7 Mar 2018</time></span><div class=post-tag><ul><li><a><span><i class="fa fa-paperclip" aria-hidden=true></i>command line tools</span></a></li><li><a><span><i class="fa fa-paperclip" aria-hidden=true></i>linux</span></a></li></ul></div><h2 id=introduction>Introduction</h2><p>curl is a tool to transfer data from or to a server, using one of the supported protocols (DICT, FILE, FTP, FTPS, GOPHER, HTTP, HTTPS, IMAP, IMAPS, LDAP, LDAPS, POP3, POP3S, RTMP, RTSP, SCP, SFTP, SMB, SMBS, SMTP, SMTPS, TELNET and TFTP).</p><p>The command is designed to work without user interaction.</p><p>curl offers a busload of useful tricks like proxy support, user authentication, FTP upload, HTTP post, SSL connections, cookies, file transfer resume, Metalink, and more. As you will see below, the number of features will make your head spin!</p><p>This is a simple summary about the usage of curl, for more details, just <code>man curl</code> in your terminal.</p><h2 id=get-raw-content>get raw content</h2><pre><code class=language-sh><div class=shiki-light><pre class=shiki style="background-color: #ffffff"><code><span class=line><span style="color: #24292E">curl www.sina.com</span></span>
<span class=line></span>
<span class=line><span style="color: #24292E">curl https://api.github.com/search/repositories</span><span style="color: #D73A49">?</span><span style="color: #24292E">q=react</span></span></code></pre></div><div class=shiki-dark><pre class=shiki style="background-color: #0d1117"><code><span class=line><span style="color: #C9D1D9">curl www.sina.com</span></span>
<span class=line></span>
<span class=line><span style="color: #C9D1D9">curl https://api.github.com/search/repositories</span><span style="color: #FF7B72">?</span><span style="color: #C9D1D9">q=react</span></span></code></pre></div>
</code></pre><p>use <code>-o</code> option to write to file instead of stdout.</p><pre><code class=language-sh><div class=shiki-light><pre class=shiki style="background-color: #ffffff"><code><span class=line><span style="color: #24292E">curl -o </span><span style="color: #D73A49">&lt;</span><span style="color: #24292E">filename</span><span style="color: #D73A49">&gt;</span><span style="color: #24292E"> www.sina.com</span></span></code></pre></div><div class=shiki-dark><pre class=shiki style="background-color: #0d1117"><code><span class=line><span style="color: #C9D1D9">curl -o </span><span style="color: #FF7B72">&lt;</span><span style="color: #C9D1D9">filename</span><span style="color: #FF7B72">&gt;</span><span style="color: #C9D1D9"> www.sina.com</span></span></code></pre></div>
</code></pre><h2 id=follow-redirect>follow redirect</h2><p>use <code>-L</code> option to follow the redirect.</p><pre><code class=language-sh><div class=shiki-light><pre class=shiki style="background-color: #ffffff"><code><span class=line><span style="color: #24292E">curl -L www.sina.com</span></span>
<span class=line></span>
<span class=line><span style="color: #6A737D"># will go to www.sina.com.cn </span></span></code></pre></div><div class=shiki-dark><pre class=shiki style="background-color: #0d1117"><code><span class=line><span style="color: #C9D1D9">curl -L www.sina.com</span></span>
<span class=line></span>
<span class=line><span style="color: #8B949E"># will go to www.sina.com.cn </span></span></code></pre></div>
</code></pre><h2 id=show-response-header>show response header</h2><p>use <code>-i</code> option to show the response header with response. use <code>-I</code> option to only display the response header.</p><pre><code class=language-sh><div class=shiki-light><pre class=shiki style="background-color: #ffffff"><code><span class=line><span style="color: #24292E">curl -i www.sina.com</span></span></code></pre></div><div class=shiki-dark><pre class=shiki style="background-color: #0d1117"><code><span class=line><span style="color: #C9D1D9">curl -i www.sina.com</span></span></code></pre></div>
</code></pre><h2 id=verbose>verbose</h2><p>use <code>-v</code> option to make the operation more talkative.</p><pre><code class=language-sh><div class=shiki-light><pre class=shiki style="background-color: #ffffff"><code><span class=line><span style="color: #24292E">curl -v www.sina.com</span></span></code></pre></div><div class=shiki-dark><pre class=shiki style="background-color: #0d1117"><code><span class=line><span style="color: #C9D1D9">curl -v www.sina.com</span></span></code></pre></div>
</code></pre><p>use <code>--trace &lt;filename&gt;</code> or <code>--trace-ascii &lt;filename&gt;</code> to write a debug trace to file.</p><pre><code class=language-sh><div class=shiki-light><pre class=shiki style="background-color: #ffffff"><code><span class=line><span style="color: #24292E">curl --trace log.txt www.sina.com</span></span>
<span class=line><span style="color: #24292E">curl --trace-ascii log.txt www.sina.com</span></span></code></pre></div><div class=shiki-dark><pre class=shiki style="background-color: #0d1117"><code><span class=line><span style="color: #C9D1D9">curl --trace log.txt www.sina.com</span></span>
<span class=line><span style="color: #C9D1D9">curl --trace-ascii log.txt www.sina.com</span></span></code></pre></div>
</code></pre><h2 id=send-form-data>send form data</h2><p>simply add in the url for get method.</p><pre><code class=language-sh><div class=shiki-light><pre class=shiki style="background-color: #ffffff"><code><span class=line><span style="color: #24292E">curl example.com/form.cgi</span><span style="color: #D73A49">?</span><span style="color: #24292E">data=xxx</span></span></code></pre></div><div class=shiki-dark><pre class=shiki style="background-color: #0d1117"><code><span class=line><span style="color: #C9D1D9">curl example.com/form.cgi</span><span style="color: #FF7B72">?</span><span style="color: #C9D1D9">data=xxx</span></span></code></pre></div>
</code></pre><p>use <code>-X</code> option to specify request command. use <code>--data</code> option for post method.</p><pre><code class=language-sh><div class=shiki-light><pre class=shiki style="background-color: #ffffff"><code><span class=line><span style="color: #24292E">curl -X POST --data </span><span style="color: #032F62">&quot;data=xxx&quot;</span><span style="color: #24292E"> example.com/form.cgi</span></span></code></pre></div><div class=shiki-dark><pre class=shiki style="background-color: #0d1117"><code><span class=line><span style="color: #C9D1D9">curl -X POST --data </span><span style="color: #A5D6FF">&quot;data=xxx&quot;</span><span style="color: #C9D1D9"> example.com/form.cgi</span></span></code></pre></div>
</code></pre><p>use <code>--form</code> option to specify httmp multipart data.</p><p>assuming the form was like below:</p><pre><code class=language-html><div class=shiki-light><pre class=shiki style="background-color: #ffffff"><code><span class=line><span style="color: #24292E">&lt;</span><span style="color: #22863A">form</span><span style="color: #24292E"> </span><span style="color: #005CC5">method</span><span style="color: #24292E">=</span><span style="color: #032F62">&quot;POST&quot;</span><span style="color: #24292E"> </span><span style="color: #005CC5">enctype</span><span style="color: #24292E">=</span><span style="color: #032F62">&#39;multipart/form-data&#39;</span><span style="color: #24292E"> </span><span style="color: #005CC5">action</span><span style="color: #24292E">=</span><span style="color: #032F62">&quot;upload.cgi&quot;</span><span style="color: #24292E">&gt;</span></span>
<span class=line><span style="color: #24292E">　　&lt;</span><span style="color: #22863A">input</span><span style="color: #24292E"> </span><span style="color: #005CC5">type</span><span style="color: #24292E">=</span><span style="color: #032F62">file</span><span style="color: #24292E"> </span><span style="color: #005CC5">name</span><span style="color: #24292E">=</span><span style="color: #032F62">upload</span><span style="color: #24292E">&gt;</span></span>
<span class=line><span style="color: #24292E">　　&lt;</span><span style="color: #22863A">input</span><span style="color: #24292E"> </span><span style="color: #005CC5">type</span><span style="color: #24292E">=</span><span style="color: #032F62">submit</span><span style="color: #24292E"> </span><span style="color: #005CC5">name</span><span style="color: #24292E">=</span><span style="color: #032F62">press</span><span style="color: #24292E"> </span><span style="color: #005CC5">value</span><span style="color: #24292E">=</span><span style="color: #032F62">&quot;OK&quot;</span><span style="color: #24292E">&gt;</span></span>
<span class=line><span style="color: #24292E">&lt;/</span><span style="color: #22863A">form</span><span style="color: #24292E">&gt;</span></span></code></pre></div><div class=shiki-dark><pre class=shiki style="background-color: #0d1117"><code><span class=line><span style="color: #C9D1D9">&lt;</span><span style="color: #7EE787">form</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">method</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">&quot;POST&quot;</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">enctype</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">&#39;multipart/form-data&#39;</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">action</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">&quot;upload.cgi&quot;</span><span style="color: #C9D1D9">&gt;</span></span>
<span class=line><span style="color: #C9D1D9">　　&lt;</span><span style="color: #7EE787">input</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">type</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">file</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">name</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">upload</span><span style="color: #C9D1D9">&gt;</span></span>
<span class=line><span style="color: #C9D1D9">　　&lt;</span><span style="color: #7EE787">input</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">type</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">submit</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">name</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">press</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">value</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">&quot;OK&quot;</span><span style="color: #C9D1D9">&gt;</span></span>
<span class=line><span style="color: #C9D1D9">&lt;/</span><span style="color: #7EE787">form</span><span style="color: #C9D1D9">&gt;</span></span></code></pre></div>
</code></pre><pre><code class=language-sh><div class=shiki-light><pre class=shiki style="background-color: #ffffff"><code><span class=line><span style="color: #24292E">curl --form upload=@localfilename --form press=OK [URL]</span></span></code></pre></div><div class=shiki-dark><pre class=shiki style="background-color: #0d1117"><code><span class=line><span style="color: #C9D1D9">curl --form upload=@localfilename --form press=OK [URL]</span></span></code></pre></div>
</code></pre><h2 id=referer>referer</h2><pre><code class=language-sh><div class=shiki-light><pre class=shiki style="background-color: #ffffff"><code><span class=line><span style="color: #24292E">curl --referer http://www.referer.com http://www.destination.com</span></span></code></pre></div><div class=shiki-dark><pre class=shiki style="background-color: #0d1117"><code><span class=line><span style="color: #C9D1D9">curl --referer http://www.referer.com http://www.destination.com</span></span></code></pre></div>
</code></pre><h2 id=user-agent>user agent</h2><pre><code class=language-sh><div class=shiki-light><pre class=shiki style="background-color: #ffffff"><code><span class=line><span style="color: #24292E">curl --user-agent </span><span style="color: #032F62">&quot;[User Agent]&quot;</span><span style="color: #24292E"> [URL]</span></span></code></pre></div><div class=shiki-dark><pre class=shiki style="background-color: #0d1117"><code><span class=line><span style="color: #C9D1D9">curl --user-agent </span><span style="color: #A5D6FF">&quot;[User Agent]&quot;</span><span style="color: #C9D1D9"> [URL]</span></span></code></pre></div>
</code></pre><h2 id=cookie>cookie</h2><p>use <code>-b</code> or <code>--cookie</code> option to read cookies from file or string.</p><pre><code class=language-sh><div class=shiki-light><pre class=shiki style="background-color: #ffffff"><code><span class=line><span style="color: #24292E">curl --cookie </span><span style="color: #032F62">&quot;name=xxx&quot;</span><span style="color: #24292E"> www.example.com</span></span></code></pre></div><div class=shiki-dark><pre class=shiki style="background-color: #0d1117"><code><span class=line><span style="color: #C9D1D9">curl --cookie </span><span style="color: #A5D6FF">&quot;name=xxx&quot;</span><span style="color: #C9D1D9"> www.example.com</span></span></code></pre></div>
</code></pre><p>use <code>-c</code> option to write cookies to file after operation.</p><pre><code class=language-sh><div class=shiki-light><pre class=shiki style="background-color: #ffffff"><code><span class=line><span style="color: #24292E">$ curl -c cookies http://example.com</span></span>
<span class=line><span style="color: #24292E">$ curl -b cookies http://example.com</span></span></code></pre></div><div class=shiki-dark><pre class=shiki style="background-color: #0d1117"><code><span class=line><span style="color: #C9D1D9">$ curl -c cookies http://example.com</span></span>
<span class=line><span style="color: #C9D1D9">$ curl -b cookies http://example.com</span></span></code></pre></div>
</code></pre><h2 id=add-header>add header</h2><pre><code class=language-sh><div class=shiki-light><pre class=shiki style="background-color: #ffffff"><code><span class=line><span style="color: #24292E">curl --header </span><span style="color: #032F62">&quot;Content-Type:application/json&quot;</span><span style="color: #24292E"> http://example.com</span></span></code></pre></div><div class=shiki-dark><pre class=shiki style="background-color: #0d1117"><code><span class=line><span style="color: #C9D1D9">curl --header </span><span style="color: #A5D6FF">&quot;Content-Type:application/json&quot;</span><span style="color: #C9D1D9"> http://example.com</span></span></code></pre></div>
</code></pre><h2 id=authentication>authentication</h2><pre><code class=language-sh><div class=shiki-light><pre class=shiki style="background-color: #ffffff"><code><span class=line><span style="color: #24292E">curl --user name:password example.com</span></span></code></pre></div><div class=shiki-dark><pre class=shiki style="background-color: #0d1117"><code><span class=line><span style="color: #C9D1D9">curl --user name:password example.com</span></span></code></pre></div>
</code></pre></div><div class=footer><hr><div class=footer-link><a href=/archive><i class="fa fa-archive" aria-hidden=true></i></a><a target=_blank href=https://twitter.com/chow_won><i class="fa fa-twitter" aria-hidden=true></i></a> <a target=_blank href=https://github.com/zoubingwu><i class="fa fa-github" aria-hidden=true></i></a> <a target=_blank href=mailto:zoubingwu@gmail.com><i class="fa fa-envelope" aria-hidden=true></i></a></div>© 2016-2021 zoubingwu. All rights reserved.</div></div></body></html>