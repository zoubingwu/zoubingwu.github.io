<!DOCTYPE html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=keywords content=blog,html,css,javascript,react,vue,nodejs><meta name=description content="zoubingwu 个人博客, zoubingwu's blog"><link href=/assets/images/favicon.ico rel=bookmark type=image/x-icon><link href=/assets/images/favicon.ico rel=icon type=image/x-icon><link href=/assets/images/favicon.ico rel="shortcut icon" type=image/x-icon><link rel=stylesheet href=/assets/css/main.css type=text/css><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=preload href=https://cdn.jsdelivr.net/npm/lxgw-wenkai-lite-webfont@1.6.0/style.css as=style><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/lxgw-wenkai-lite-webfont@1.6.0/style.css><link rel=stylesheet href=/assets/fonts/font-awesome.min.css type=text/css><link href="https://fonts.googleapis.com/css2?family=Merriweather:ital,wght@0,300;0,700;1,300;1,700&display=swap" rel=stylesheet><link rel=alternate type=application/rss+xml title="RSS Feed for zoubingwu's blog" href=/feed.xml><title>Javascript中操作数组的一些常用方法总结 | https://zoubingwu.com</title><meta property=og:title content="Javascript中操作数组的一些常用方法总结 | https://zoubingwu.com"><meta property=og:locale content=en_US><meta name=description content=关于JS中数组的常用方法><meta property=og:description content=关于JS中数组的常用方法><link rel=canonical href=https://zoubingwu.com/2016-10-18/javascript中操作数组的一些常用方法总结><meta property=og:url content=https://zoubingwu.com/2016-10-18/javascript中操作数组的一些常用方法总结><meta property=og:site_name content="zoubingwu's blog"><meta property=og:type content=article><meta property=article:published_time content=2016-10-18T23:28:11.000Z><meta name=twitter:card content=summary><meta property=twitter:title content="Javascript中操作数组的一些常用方法总结 | https://zoubingwu.com"><script defer=defer src=https://static.cloudflareinsights.com/beacon.min.js data-cf-beacon='{"token": "76b8468271b24f3180af2110f74841c3"}'></script></head><body><main class=content-container><div class=post><div class=post-title>Javascript中操作数组的一些常用方法总结</div><span class=post-date><time>18 Oct 2016</time></span><div class=post-tag><ul><li><a><span><i class="fa fa-paperclip" aria-hidden=true></i>Array</span></a></li></ul></div><hr><h3 id=从头部或尾部添加或删除元素>从头部或尾部添加或删除元素</h3><hr><ul><li><h4 id=pop>pop()</h4><p>删除一个数组中的最后的一个元素，并且返回这个元素。</p><p>pop()方法删除掉数组中的最后一个元素，并且把这个元素返回。</p><p>注意原数组此时已经被改动，返回的元素保持着原有的类型，并不会存放在一个数组中，不要和后面的方法混淆了。</p><pre><code class=language-javascript><pre class=shiki style="background-color: #282c34"><code><span class=line><span style="color: #C678DD">var</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">a</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> [</span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">2</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">3</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">4</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">5</span><span style="color: #ABB2BF">];</span></span>
<span class=line><span style="color: #C678DD">var</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">b</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">a</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">pop</span><span style="color: #ABB2BF">();</span></span>
<span class=line><span style="color: #E5C07B">console</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">log</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">a</span><span style="color: #ABB2BF">); </span><span style="color: #7F848E; font-style: italic">// a = [1, 2, 3, 4];</span></span>
<span class=line><span style="color: #E5C07B">console</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">log</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">b</span><span style="color: #ABB2BF">); </span><span style="color: #7F848E; font-style: italic">// b = 5; typeof b = number;</span></span></code></pre>
</code></pre></li><li><h4 id=push>push()</h4><p>push()方法可以添加一个或多个元素到数组的尾部，并返回新的数组的长度。</p><p>需要添加的元素直接作为参数，用逗号隔开。</p><pre><code class=language-javascript><pre class=shiki style="background-color: #282c34"><code><span class=line><span style="color: #C678DD">var</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">a</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> [</span><span style="color: #98C379">&quot;a&quot;</span><span style="color: #ABB2BF">, </span><span style="color: #98C379">&quot;b&quot;</span><span style="color: #ABB2BF">, </span><span style="color: #98C379">&quot;c&quot;</span><span style="color: #ABB2BF">];</span></span>
<span class=line><span style="color: #C678DD">var</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">b</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">a</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">push</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">2</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">3</span><span style="color: #ABB2BF">);</span></span>
<span class=line><span style="color: #E5C07B">console</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">log</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">a</span><span style="color: #ABB2BF">); </span><span style="color: #7F848E; font-style: italic">//a = [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, 1, 2, 3];</span></span>
<span class=line><span style="color: #E5C07B">console</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">log</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">b</span><span style="color: #ABB2BF">); </span><span style="color: #7F848E; font-style: italic">//b = 6;</span></span></code></pre>
</code></pre></li><li><h4 id=shift>shift()</h4><p>shift()方法删除数组的首个元素，并返回这个元素。该方法会改变数组的长度。</p><p>如果数组为空的话，会返回<code>undefined</code>.</p><pre><code class=language-javascript><pre class=shiki style="background-color: #282c34"><code><span class=line><span style="color: #C678DD">var</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">a</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> [];</span></span>
<span class=line><span style="color: #C678DD">var</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">b</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> [</span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">2</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">3</span><span style="color: #ABB2BF">];</span></span>
<span class=line><span style="color: #C678DD">var</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">c</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">a</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">shift</span><span style="color: #ABB2BF">();</span></span>
<span class=line><span style="color: #C678DD">var</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">d</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">b</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">shift</span><span style="color: #ABB2BF">();</span></span>
<span class=line><span style="color: #E5C07B">console</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">log</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">a</span><span style="color: #ABB2BF">); </span><span style="color: #7F848E; font-style: italic">// a = []</span></span>
<span class=line><span style="color: #E5C07B">console</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">log</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">b</span><span style="color: #ABB2BF">); </span><span style="color: #7F848E; font-style: italic">// b = [2, 3]</span></span>
<span class=line><span style="color: #E5C07B">console</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">log</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">c</span><span style="color: #ABB2BF">); </span><span style="color: #7F848E; font-style: italic">// c = undefined</span></span>
<span class=line><span style="color: #E5C07B">console</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">log</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">d</span><span style="color: #ABB2BF">); </span><span style="color: #7F848E; font-style: italic">// d = 1</span></span></code></pre>
</code></pre></li><li><h4 id=unshit>unshit()</h4><p>unshift() 方法在数组的开头添加一个或者多个元素，并返回数组新的 length 值。</p><p>类似于push()方法，只是位置在数组的开头。</p><pre><code class=language-javascript><pre class=shiki style="background-color: #282c34"><code><span class=line><span style="color: #C678DD">var</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">a</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> [</span><span style="color: #98C379">&quot;a&quot;</span><span style="color: #ABB2BF">, </span><span style="color: #98C379">&quot;b&quot;</span><span style="color: #ABB2BF">, </span><span style="color: #98C379">&quot;c&quot;</span><span style="color: #ABB2BF">];</span></span>
<span class=line><span style="color: #C678DD">var</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">b</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">a</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">unshift</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">2</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">3</span><span style="color: #ABB2BF">);</span></span>
<span class=line><span style="color: #E5C07B">console</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">log</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">a</span><span style="color: #ABB2BF">); </span><span style="color: #7F848E; font-style: italic">//a = [1, 2, 3, &quot;a&quot;, &quot;b&quot;, &quot;c&quot;];</span></span>
<span class=line><span style="color: #E5C07B">console</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">log</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">b</span><span style="color: #ABB2BF">); </span><span style="color: #7F848E; font-style: italic">//b = 6;</span></span></code></pre>
</code></pre></li></ul><hr><h3 id=数组元素的拼接或合并>数组元素的拼接或合并</h3><hr><ul><li><h4 id=join>join()</h4><p>将数组中的所有元素连接成一个字符串。</p><p>有一个可选参数，即指定每个元素的分隔符，如果省略的话默认是一个逗号，为空字符串则所有元素直接连接。</p><pre><code class=language-javascript><pre class=shiki style="background-color: #282c34"><code><span class=line><span style="color: #C678DD">var</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">a</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> [</span><span style="color: #98C379">&#39;Wind&#39;</span><span style="color: #ABB2BF">, </span><span style="color: #98C379">&#39;Rain&#39;</span><span style="color: #ABB2BF">, </span><span style="color: #98C379">&#39;Fire&#39;</span><span style="color: #ABB2BF">];</span></span>
<span class=line><span style="color: #C678DD">var</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">myVar1</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">a</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">join</span><span style="color: #ABB2BF">();      </span><span style="color: #7F848E; font-style: italic">// myVar1的值变为&quot;Wind,Rain,Fire&quot;</span></span>
<span class=line><span style="color: #C678DD">var</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">myVar2</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">a</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">join</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;, &#39;</span><span style="color: #ABB2BF">);  </span><span style="color: #7F848E; font-style: italic">// myVar2的值变为&quot;Wind, Rain, Fire&quot;</span></span>
<span class=line><span style="color: #C678DD">var</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">myVar3</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">a</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">join</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39; + &#39;</span><span style="color: #ABB2BF">); </span><span style="color: #7F848E; font-style: italic">// myVar3的值变为&quot;Wind + Rain + Fire&quot;</span></span>
<span class=line><span style="color: #C678DD">var</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">myVar4</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">a</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">join</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;&#39;</span><span style="color: #ABB2BF">);    </span><span style="color: #7F848E; font-style: italic">// myVar4的值变为&quot;WindRainFire&quot;</span></span>
<span class=line><span style="color: #C678DD">var</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">myVar5</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">a</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">join</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39; &#39;</span><span style="color: #ABB2BF">);   </span><span style="color: #7F848E; font-style: italic">// myVar5为&quot;Wind Rain Fire&quot;</span></span></code></pre>
</code></pre></li><li><h4 id=concat>concat()</h4><p>将传入的数组或非数组值与原数组合并，组成一个新的数组并返回。参数即为需要合并的数组或者非数组。</p><p>返回的是一个新的数组，原数组没有被修改。</p><pre><code class=language-javascript><pre class=shiki style="background-color: #282c34"><code><span class=line><span style="color: #C678DD">var</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">alpha</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> [</span><span style="color: #98C379">&quot;a&quot;</span><span style="color: #ABB2BF">, </span><span style="color: #98C379">&quot;b&quot;</span><span style="color: #ABB2BF">, </span><span style="color: #98C379">&quot;c&quot;</span><span style="color: #ABB2BF">];</span></span>
<span class=line><span style="color: #C678DD">var</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">numeric</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> [</span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">2</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">3</span><span style="color: #ABB2BF">];</span></span>
<span class=line></span>
<span class=line><span style="color: #7F848E; font-style: italic">// 组成新数组 [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, 1, 2, 3]; 原数组 alpha 和 numeric 未被修改</span></span>
<span class=line><span style="color: #C678DD">var</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">alphaNumeric</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">alpha</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">concat</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">numeric</span><span style="color: #ABB2BF">);</span></span></code></pre>
</code></pre></li><li><h4 id=reduce>reduce()</h4><p>接收一个函数作为累加器（accumulator），数组中的每个值（从左到右）开始合并，最终为一个值。这个方法提供了两个参数，第一个为一个函数，确定了如何对数组中的元素操作，第二个为初次调用这个函数时的首个参数，即一个初始值。</p><p>在这个回调函数中又有四个参数，即上次调用的返回值或者提供的初始值，数组中的当前被操作元素，当前被操作元素的索引，调用reduce方法的数组。</p><p><code>callback</code> 执行数组中每个值的函数，包含四个参数</p><ul><li><p><code>previousValue</code></p><p>上一次调用回调返回的值，或者是提供的初始值（initialValue）</p></li><li><p><code>currentValue</code></p><p>数组中当前被处理的元素</p></li><li><p><code>index</code></p><p>当前元素在数组中的索引</p></li><li><p><code>array</code></p><p>调用 <code>reduce</code> 的数组</p></li></ul><p><code>initialValue</code> 作为第一次调用 callback 的第一个参数。</p><p>这个方法相当于把从数组中的第一个元素开始（如果你有提供初始元素就从提供的初始元素开始），不断的和下一个元素进行合并，再把合并的值与下下一个元素合并，一直到最后仅返回一个元素。例如：</p><pre><code class=language-javascript><pre class=shiki style="background-color: #282c34"><code><span class=line><span style="color: #ABB2BF">[</span><span style="color: #D19A66">0</span><span style="color: #ABB2BF">,</span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">,</span><span style="color: #D19A66">2</span><span style="color: #ABB2BF">,</span><span style="color: #D19A66">3</span><span style="color: #ABB2BF">,</span><span style="color: #D19A66">4</span><span style="color: #ABB2BF">].</span><span style="color: #61AFEF">reduce</span><span style="color: #ABB2BF">(</span><span style="color: #C678DD">function</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75; font-style: italic">previousValue</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75; font-style: italic">currentValue</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75; font-style: italic">index</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75; font-style: italic">array</span><span style="color: #ABB2BF">){</span></span>
<span class=line><span style="color: #ABB2BF">  </span><span style="color: #C678DD">return</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">previousValue</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">+</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">currentValue</span><span style="color: #ABB2BF">;</span></span>
<span class=line><span style="color: #ABB2BF">});</span></span></code></pre>
</code></pre><p>在回调函数中确定了相加的操作，因此数组会从第一个元素0开始，和第二个元素1相加获得1后，又与第三个元素2相加，获得的值再不断重复这一操作，最后返回的结果为10。</p><p>如果传入一个初始值，比如：</p><pre><code class=language-javascript><pre class=shiki style="background-color: #282c34"><code><span class=line><span style="color: #ABB2BF">[</span><span style="color: #D19A66">0</span><span style="color: #ABB2BF">,</span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">,</span><span style="color: #D19A66">2</span><span style="color: #ABB2BF">,</span><span style="color: #D19A66">3</span><span style="color: #ABB2BF">,</span><span style="color: #D19A66">4</span><span style="color: #ABB2BF">].</span><span style="color: #61AFEF">reduce</span><span style="color: #ABB2BF">(</span><span style="color: #C678DD">function</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75; font-style: italic">previousValue</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75; font-style: italic">currentValue</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75; font-style: italic">index</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75; font-style: italic">array</span><span style="color: #ABB2BF">){</span></span>
<span class=line><span style="color: #ABB2BF">  </span><span style="color: #C678DD">return</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">previousValue</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">+</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">currentValue</span><span style="color: #ABB2BF">;</span></span>
<span class=line><span style="color: #ABB2BF">}, </span><span style="color: #D19A66">10</span><span style="color: #ABB2BF">);</span></span></code></pre>
</code></pre><p>那么就把10作为第一个元素，与0相加后获得的值再与1相加，不断重复，最后返回值为20.</p><p><strong>注意</strong>：如果数组为空并且没有提供initialValue， 会抛出<a href=https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/TypeError><code>TypeError</code></a> 。如果数组仅有一个元素（无论位置如何）并且没有提供initialValue， 或者有提供initialValue但是数组为空，那么此唯一值将被返回并且callback不会被执行。</p><p>再来一个例子，二维数组变为一维数组：</p><pre><code class=language-javascript><pre class=shiki style="background-color: #282c34"><code><span class=line><span style="color: #C678DD">var</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">flattened</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> [[</span><span style="color: #D19A66">0</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">], [</span><span style="color: #D19A66">2</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">3</span><span style="color: #ABB2BF">], [</span><span style="color: #D19A66">4</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">5</span><span style="color: #ABB2BF">]].</span><span style="color: #61AFEF">reduce</span><span style="color: #ABB2BF">(</span><span style="color: #C678DD">function</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75; font-style: italic">a</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75; font-style: italic">b</span><span style="color: #ABB2BF">) {</span></span>
<span class=line><span style="color: #ABB2BF">    </span><span style="color: #C678DD">return</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">a</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">concat</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">b</span><span style="color: #ABB2BF">);</span></span>
<span class=line><span style="color: #ABB2BF">});</span></span>
<span class=line><span style="color: #7F848E; font-style: italic">// flattened is [0, 1, 2, 3, 4, 5]</span></span></code></pre>
</code></pre></li><li><h4 id=reduceright>reduceRight()</h4><p>和reduce()方法一样，只是执行的顺序变成了从右到左，即从数组的最后一个元素开始。</p></li></ul><hr><h3 id=数组元素的位置调换或剪切>数组元素的位置调换或剪切</h3><hr><ul><li><h4 id=sort>sort()</h4><p>对数组的元素做原地的排序，并返回这个数组。 sort 排序可能是不稳定的。默认按照字符串的Unicode码位点（code point）排序。有一个可选的参数，用来指定按某种顺序进行排列的函数。如果省略，元素按照转换为的字符串的诸个字符的Unicode位点进行排序。</p><p>注意如果没有设置参数，那么数字排序时会先被转换为字符串，比如：</p><pre><code class=language-javascript><pre class=shiki style="background-color: #282c34"><code><span class=line><span style="color: #C678DD">var</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">scores</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> [</span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">10</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">2</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">21</span><span style="color: #ABB2BF">]; </span></span>
<span class=line><span style="color: #E5C07B">scores</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">sort</span><span style="color: #ABB2BF">(); </span><span style="color: #7F848E; font-style: italic">// [1, 10, 2, 21]</span></span></code></pre>
</code></pre><p>此时因为数字都先被转换为了字符串，10的Unicode位点顺序在2之前，所以10在2的前面。因此如果需要正确排序的话就需要设置参数。而数组会按照函数参数的返回值来排序，例如需要比较的两个元素为a和b，那么返回值大于零时，b会排在a之前，返回值小于零时，a会排在b之前。格式如下：</p><pre><code class=language-javascript><pre class=shiki style="background-color: #282c34"><code><span class=line><span style="color: #C678DD">function</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">compare</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75; font-style: italic">a</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75; font-style: italic">b</span><span style="color: #ABB2BF">) {</span></span>
<span class=line><span style="color: #ABB2BF">  </span><span style="color: #C678DD">if</span><span style="color: #ABB2BF"> (</span><span style="color: #E06C75">a</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">is</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">less</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">than</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">b</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">by</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">some</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">ordering</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">criterion</span><span style="color: #ABB2BF">) {</span></span>
<span class=line><span style="color: #ABB2BF">    </span><span style="color: #C678DD">return</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">-</span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">; </span><span style="color: #7F848E; font-style: italic">// a会放在b的前面</span></span>
<span class=line><span style="color: #ABB2BF">  }</span></span>
<span class=line><span style="color: #ABB2BF">  </span><span style="color: #C678DD">if</span><span style="color: #ABB2BF"> (</span><span style="color: #E06C75">a</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">is</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">greater</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">than</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">b</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">by</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">the</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">ordering</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">criterion</span><span style="color: #ABB2BF">) {</span></span>
<span class=line><span style="color: #ABB2BF">    </span><span style="color: #C678DD">return</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">;  </span><span style="color: #7F848E; font-style: italic">// b会放在a的前面</span></span>
<span class=line><span style="color: #ABB2BF">  }</span></span>
<span class=line><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">// a must be equal to b</span></span>
<span class=line><span style="color: #ABB2BF">  </span><span style="color: #C678DD">return</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">0</span><span style="color: #ABB2BF">;  </span><span style="color: #7F848E; font-style: italic">//a和b的位置不变</span></span>
<span class=line><span style="color: #ABB2BF">}</span></span></code></pre>
</code></pre><p>假设一个数字数组，要将数组升序排列，思路为<code>if (a &gt; b) return 1; if (a &lt; b) return -1;</code>，这样就可以简单的按如下写为：</p><pre><code class=language-javascript><pre class=shiki style="background-color: #282c34"><code><span class=line><span style="color: #C678DD">var</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">numbers</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> [</span><span style="color: #D19A66">4</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">2</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">5</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">3</span><span style="color: #ABB2BF">];</span></span>
<span class=line><span style="color: #E5C07B">numbers</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">sort</span><span style="color: #ABB2BF">(</span><span style="color: #C678DD">function</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75; font-style: italic">a</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75; font-style: italic">b</span><span style="color: #ABB2BF">) {</span></span>
<span class=line><span style="color: #ABB2BF">  </span><span style="color: #C678DD">return</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">a</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">-</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">b</span><span style="color: #ABB2BF">;</span></span>
<span class=line><span style="color: #ABB2BF">});</span></span>
<span class=line><span style="color: #E5C07B">console</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">log</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">numbers</span><span style="color: #ABB2BF">);  </span><span style="color: #7F848E; font-style: italic">// [1, 2, 3, 4, 5]</span></span></code></pre>
</code></pre></li><li><h4 id=reverse>reverse()</h4><p>颠倒数组中元素的位置。第一个元素会成为最后一个，最后一个会成为第一个。返回这个数组的引用。</p><p>这个方法直接修改了原数组。</p><pre><code class=language-javascript><pre class=shiki style="background-color: #282c34"><code><span class=line><span style="color: #C678DD">var</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">myArray</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> [</span><span style="color: #98C379">&#39;one&#39;</span><span style="color: #ABB2BF">, </span><span style="color: #98C379">&#39;two&#39;</span><span style="color: #ABB2BF">, </span><span style="color: #98C379">&#39;three&#39;</span><span style="color: #ABB2BF">];</span></span>
<span class=line><span style="color: #E5C07B">myArray</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">reverse</span><span style="color: #ABB2BF">(); </span></span>
<span class=line></span>
<span class=line><span style="color: #E5C07B">console</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">log</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">myArray</span><span style="color: #ABB2BF">) </span><span style="color: #7F848E; font-style: italic">// [&#39;three&#39;, &#39;two&#39;, &#39;one&#39;]</span></span></code></pre>
</code></pre></li><li><h4 id=slice>slice()</h4><p>浅复制（shallow copy）数组的一部分到一个新的数组，并返回这个新数组。</p><p>包含了两个参数，即开始的索引值和结束的索引值，注意包含了开始索引的值而不包含结束索引的值。当值为负数的时候表示从尾部开始数起。</p><p>slice()不修改原数组而会返回一个新数组，注意如果元素如果是对象引用（不是实例对象）那么拷贝过去有着相同的引用，如果被引用的对象发生改变，则新的和原数组中的都会改变。</p><pre><code class=language-javascript><pre class=shiki style="background-color: #282c34"><code><span class=line><span style="color: #C678DD">var</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">fruits</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> [</span><span style="color: #98C379">&quot;banana&quot;</span><span style="color: #ABB2BF">, </span><span style="color: #98C379">&quot;orange&quot;</span><span style="color: #ABB2BF">, </span><span style="color: #98C379">&quot;lemon&quot;</span><span style="color: #ABB2BF">, </span><span style="color: #98C379">&quot;apple&quot;</span><span style="color: #ABB2BF">, </span><span style="color: #98C379">&quot;mango&quot;</span><span style="color: #ABB2BF">];</span></span>
<span class=line><span style="color: #C678DD">var</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">a</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">fruits</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">slice</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">3</span><span style="color: #ABB2BF">); </span><span style="color: #7F848E; font-style: italic">//[&quot;orange&quot;, &quot;lemon&quot;]</span></span>
<span class=line><span style="color: #C678DD">var</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">b</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">fruits</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">slice</span><span style="color: #ABB2BF">(</span><span style="color: #56B6C2">-</span><span style="color: #D19A66">2</span><span style="color: #ABB2BF">); </span><span style="color: #7F848E; font-style: italic">//[&quot;apple&quot;, &quot;mango&quot;]</span></span>
<span class=line><span style="color: #C678DD">var</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">c</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">fruits</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">slice</span><span style="color: #ABB2BF">(</span><span style="color: #56B6C2">-</span><span style="color: #D19A66">2</span><span style="color: #ABB2BF">, </span><span style="color: #56B6C2">-</span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">) </span><span style="color: #7F848E; font-style: italic">//[&quot;apple&quot;]</span></span></code></pre>
</code></pre></li><li><h4 id=splice>splice()</h4><p>用新元素替换旧元素，以此修改数组的内容。</p><p>由被删除的元素组成的一个数组。如果只删除了一个元素，则返回只包含一个元素的数组。如果没有删除元素，则返回空数组。</p><p><strong>注意</strong>，splice() 方法与 slice() 方法的作用是不同的，splice() 方法会直接对数组进行修改。</p><p>包含了三个参数：</p><ul><li><p><code>start​</code></p><p>从数组的哪一位开始修改内容。如果超出了数组的长度，则从数组末尾开始添加内容；如果是负值，则表示从数组末位开始的第几位。</p></li><li><p><code>deleteCount</code></p><p>整数，表示要移除的数组元素的个数。如果 <code>deleteCount</code> 是 0，则不移除元素。这种情况下，至少应添加一个新元素。如果 <code>deleteCount </code>大于<code>start</code> 之后的元素的总数，则从 <code>start</code> 后面的元素都将被删除（含第 <code>start</code> 位）。</p></li><li><p><code>item*N*</code></p><p>要添加进数组的元素。如果不指定，则 <code>splice()</code> 只删除数组元素。</p></li></ul><pre><code class=language-javascript><pre class=shiki style="background-color: #282c34"><code><span class=line><span style="color: #C678DD">var</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">myFish</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> [</span><span style="color: #98C379">&quot;angel&quot;</span><span style="color: #ABB2BF">, </span><span style="color: #98C379">&quot;clown&quot;</span><span style="color: #ABB2BF">, </span><span style="color: #98C379">&quot;mandarin&quot;</span><span style="color: #ABB2BF">, </span><span style="color: #98C379">&quot;surgeon&quot;</span><span style="color: #ABB2BF">];</span></span>
<span class=line></span>
<span class=line><span style="color: #7F848E; font-style: italic">//从第 2 位开始删除 0 个元素，插入 &quot;drum&quot;</span></span>
<span class=line><span style="color: #C678DD">var</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">removed</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">myFish</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">splice</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">2</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">0</span><span style="color: #ABB2BF">, </span><span style="color: #98C379">&quot;drum&quot;</span><span style="color: #ABB2BF">);</span></span>
<span class=line><span style="color: #7F848E; font-style: italic">//运算后的 myFish:[&quot;angel&quot;, &quot;clown&quot;, &quot;drum&quot;, &quot;mandarin&quot;, &quot;surgeon&quot;]</span></span>
<span class=line><span style="color: #7F848E; font-style: italic">//被删除元素数组：[]，没有元素被删除</span></span>
<span class=line></span>
<span class=line><span style="color: #7F848E; font-style: italic">//从第 3 位开始删除 1 个元素</span></span>
<span class=line><span style="color: #E06C75">removed</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">myFish</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">splice</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">3</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">);</span></span>
<span class=line><span style="color: #7F848E; font-style: italic">//运算后的myFish：[&quot;angel&quot;, &quot;clown&quot;, &quot;drum&quot;, &quot;surgeon&quot;]</span></span>
<span class=line><span style="color: #7F848E; font-style: italic">//被删除元素数组：[&quot;mandarin&quot;]</span></span>
<span class=line></span>
<span class=line><span style="color: #7F848E; font-style: italic">//从第 2 位开始删除 1 个元素，然后插入 &quot;trumpet&quot;</span></span>
<span class=line><span style="color: #E06C75">removed</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">myFish</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">splice</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">2</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #98C379">&quot;trumpet&quot;</span><span style="color: #ABB2BF">);</span></span>
<span class=line><span style="color: #7F848E; font-style: italic">//运算后的myFish: [&quot;angel&quot;, &quot;clown&quot;, &quot;trumpet&quot;, &quot;surgeon&quot;]</span></span>
<span class=line><span style="color: #7F848E; font-style: italic">//被删除元素数组：[&quot;drum&quot;]</span></span>
<span class=line></span>
<span class=line><span style="color: #7F848E; font-style: italic">//从第 0 位开始删除 2 个元素，然后插入 &quot;parrot&quot;, &quot;anemone&quot; 和 &quot;blue&quot;</span></span>
<span class=line><span style="color: #E06C75">removed</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">myFish</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">splice</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">0</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">2</span><span style="color: #ABB2BF">, </span><span style="color: #98C379">&quot;parrot&quot;</span><span style="color: #ABB2BF">, </span><span style="color: #98C379">&quot;anemone&quot;</span><span style="color: #ABB2BF">, </span><span style="color: #98C379">&quot;blue&quot;</span><span style="color: #ABB2BF">);</span></span>
<span class=line><span style="color: #7F848E; font-style: italic">//运算后的myFish：[&quot;parrot&quot;, &quot;anemone&quot;, &quot;blue&quot;, &quot;trumpet&quot;, &quot;surgeon&quot;]</span></span>
<span class=line><span style="color: #7F848E; font-style: italic">//被删除元素的数组：[&quot;angel&quot;, &quot;clown&quot;]</span></span>
<span class=line></span>
<span class=line><span style="color: #7F848E; font-style: italic">//从第 3 位开始删除 2 个元素</span></span>
<span class=line><span style="color: #E06C75">removed</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">myFish</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">splice</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">3</span><span style="color: #ABB2BF">, </span><span style="color: #E5C07B">Number</span><span style="color: #ABB2BF">.MAX_VALUE);</span></span>
<span class=line><span style="color: #7F848E; font-style: italic">//运算后的myFish: [&quot;parrot&quot;, &quot;anemone&quot;, &quot;blue&quot;]</span></span>
<span class=line><span style="color: #7F848E; font-style: italic">//被删除元素的数组：[&quot;trumpet&quot;, &quot;surgeon&quot;]</span></span></code></pre>
</code></pre></li><li><h4 id=map>map()</h4><p>对组中的每个元素，按照参数设置的回调函数操作后的返回值组成一个新的数组。</p><p><code>callback</code> 函数会被自动传入三个参数：数组元素，元素索引，原数组本身。</p><p>例如，求数组中每个数的平方根：</p><pre><code class=language-javascript><pre class=shiki style="background-color: #282c34"><code><span class=line><span style="color: #C678DD">var</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">numbers</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> [</span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">4</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">9</span><span style="color: #ABB2BF">];</span></span>
<span class=line><span style="color: #C678DD">var</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">roots</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">numbers</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">map</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">Math</span><span style="color: #ABB2BF">.</span><span style="color: #56B6C2">sqrt</span><span style="color: #ABB2BF">);</span></span>
<span class=line><span style="color: #7F848E; font-style: italic">/* roots的值为[1, 2, 3], numbers的值仍为[1, 4, 9] */</span></span></code></pre>
</code></pre></li></ul></div><div class=footer><hr><div class=footer-link><a href=/archive aria-label="Read more about all archives"><i class="fa fa-archive" aria-hidden=true></i> </a><a target=_blank href=https://twitter.com/chow_won aria-label="Read more on twitter"><i class="fa fa-twitter" aria-hidden=true></i></a> <a target=_blank href=https://github.com/zoubingwu aria-label="Read more on github"><i class="fa fa-github" aria-hidden=true></i> </a><a target=_blank href=mailto:zoubingwu@gmail.com aria-label=Email><i class="fa fa-envelope" aria-hidden=true></i></a></div>© 2016-2023 zoubingwu. All rights reserved.</div></main></body></html>