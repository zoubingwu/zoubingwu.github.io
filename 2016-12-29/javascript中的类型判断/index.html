<!DOCTYPE html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no"><meta name=keywords content=blog,html,css,javascript,react,vue,nodejs><meta name=description content="zoubingwu 个人博客, zoubingwu's blog"><link href=/assets/images/favicon.ico rel=bookmark type=image/x-icon><link href=/assets/images/favicon.ico rel=icon type=image/x-icon><link href=/assets/images/favicon.ico rel="shortcut icon" type=image/x-icon><link rel=stylesheet href=/assets/css/main.css type=text/css><link rel=preload href=/assets/fonts/googlefont.css as=style><link rel=preload href=https://cdn.bootcdn.net/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css as=style><link rel=stylesheet href=/assets/fonts/googlefont.css as=style><link rel=stylesheet href=https://cdn.bootcdn.net/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css as=style><link rel=alternate type=application/rss+xml title="RSS Feed for zoubingwu's blog" href=/feed.xml><title>javascript中的类型判断 | https://zoubingwu.com</title><meta property=og:title content="javascript中的类型判断 | https://zoubingwu.com"><meta property=og:locale content=en_US><meta name=description content=""><meta property=og:description content=""><link rel=canonical href=https://zoubingwu.com/2016-12-29/javascript中的类型判断><meta property=og:url content=https://zoubingwu.com/2016-12-29/javascript中的类型判断><meta property=og:site_name content="zoubingwu's blog"><meta property=og:type content=article><meta property=article:published_time content=2016-12-29T22:27:18.000Z><meta name=twitter:card content=summary><meta property=twitter:title content="javascript中的类型判断 | https://zoubingwu.com"><script>(function (i, s, o, g, r, a, m) { i['GoogleAnalyticsObject'] = r; (i[r] = i[r]
  || function () { (i[r].q = i[r].q || []).push(arguments); }), (i[r].l = 1 *
  new Date()); (a = s.createElement(o)), (m = s.getElementsByTagName(o)[0]);
  a.async = 1; a.src = g; m.parentNode.insertBefore(a, m); })( window, document,
  'script', 'https://www.google-analytics.com/analytics.js', 'ga' );
  ga('create', 'UA-100363260-1', 'auto'); ga('send', 'pageview');</script></head><body><div class=content-container><div class=post><div class=post-title>javascript中的类型判断</div><span class=post-date><time>29 Dec 2016</time></span><div class=post-tag><ul><li><a><span><i class="fa fa-paperclip" aria-hidden=true></i>javascript</span></a></li></ul></div><p>突然想起来好久没写博客了，最近复习了下JavaScript高级程序设计，关于对数据类型的判断方法在这里总结一下，主要就是以下三种。</p><ul><li><p><code>typeof</code></p><p>最基础的方法，比如：</p><pre><code class=language-javascript><div class=shiki-light><pre class=shiki style="background-color: #ffffff"><code><span class=line><span style="color: #D73A49">var</span><span style="color: #24292E"> a </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span><span style="color: #005CC5">1</span><span style="color: #24292E">;</span></span>
<span class=line><span style="color: #D73A49">typeof</span><span style="color: #24292E"> a; </span><span style="color: #6A737D">// number</span></span></code></pre></div><div class=shiki-dark><pre class=shiki style="background-color: #0d1117"><code><span class=line><span style="color: #FF7B72">var</span><span style="color: #C9D1D9"> a </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">1</span><span style="color: #C9D1D9">;</span></span>
<span class=line><span style="color: #FF7B72">typeof</span><span style="color: #C9D1D9"> a; </span><span style="color: #8B949E">// number</span></span></code></pre></div>
</code></pre><p>结果只能输出string，number，boolean，undefined，function，object，所以如果是对象的话，需要进一步判断详细的类型就不够用了。</p></li><li><p><code>instanceof</code></p><p><code>instanceof</code>是用来判断是否是某对象的实例的，返回结果为true或者false，比如：</p><pre><code class=language-javascript><div class=shiki-light><pre class=shiki style="background-color: #ffffff"><code><span class=line><span style="color: #D73A49">var</span><span style="color: #24292E"> a </span><span style="color: #D73A49">=</span><span style="color: #24292E"> [</span><span style="color: #005CC5">1</span><span style="color: #24292E">, </span><span style="color: #005CC5">false</span><span style="color: #24292E">, </span><span style="color: #005CC5">null</span><span style="color: #24292E">];</span></span>
<span class=line><span style="color: #24292E">a </span><span style="color: #D73A49">instanceof</span><span style="color: #24292E"> </span><span style="color: #E36209">Array</span><span style="color: #24292E">; </span><span style="color: #6A737D">// true</span></span></code></pre></div><div class=shiki-dark><pre class=shiki style="background-color: #0d1117"><code><span class=line><span style="color: #FF7B72">var</span><span style="color: #C9D1D9"> a </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> [</span><span style="color: #79C0FF">1</span><span style="color: #C9D1D9">, </span><span style="color: #79C0FF">false</span><span style="color: #C9D1D9">, </span><span style="color: #79C0FF">null</span><span style="color: #C9D1D9">];</span></span>
<span class=line><span style="color: #C9D1D9">a </span><span style="color: #FF7B72">instanceof</span><span style="color: #C9D1D9"> </span><span style="color: #FFA657">Array</span><span style="color: #C9D1D9">; </span><span style="color: #8B949E">// true</span></span></code></pre></div>
</code></pre><p>这个就需要事先对类型有一个了解，然后再去判断是否属实了。要注意的是，左边必须是一个对象，否则会返回false，比如：</p><pre><code class=language-javascript><div class=shiki-light><pre class=shiki style="background-color: #ffffff"><code><span class=line><span style="color: #005CC5">1</span><span style="color: #24292E"> </span><span style="color: #D73A49">instanceof</span><span style="color: #24292E"> </span><span style="color: #E36209">Number</span><span style="color: #24292E">; </span><span style="color: #6A737D">//false</span></span></code></pre></div><div class=shiki-dark><pre class=shiki style="background-color: #0d1117"><code><span class=line><span style="color: #79C0FF">1</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">instanceof</span><span style="color: #C9D1D9"> </span><span style="color: #FFA657">Number</span><span style="color: #C9D1D9">; </span><span style="color: #8B949E">//false</span></span></code></pre></div>
</code></pre></li><li><p><code>Object.prototype.toString.apply()</code></p><p>最后一种则是对原型对象采用toString方法，可以输出更详细的结果，比如：</p><pre><code class=language-javascript><div class=shiki-light><pre class=shiki style="background-color: #ffffff"><code><span class=line><span style="color: #D73A49">var</span><span style="color: #24292E"> a </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span><span style="color: #005CC5">undefined</span><span style="color: #24292E">;</span></span>
<span class=line><span style="color: #005CC5">Object</span><span style="color: #24292E">.</span><span style="color: #005CC5">prototype</span><span style="color: #24292E">.toString.</span><span style="color: #6F42C1">apply</span><span style="color: #24292E">(a); </span><span style="color: #6A737D">//[object Undefined]</span></span>
<span class=line><span style="color: #D73A49">var</span><span style="color: #24292E"> b </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span><span style="color: #D73A49">new</span><span style="color: #24292E"> </span><span style="color: #005CC5">Date</span><span style="color: #24292E">();</span></span>
<span class=line><span style="color: #005CC5">Object</span><span style="color: #24292E">.</span><span style="color: #005CC5">prototype</span><span style="color: #24292E">.toString.</span><span style="color: #6F42C1">apply</span><span style="color: #24292E">(b); </span><span style="color: #6A737D">//[object Date]</span></span></code></pre></div><div class=shiki-dark><pre class=shiki style="background-color: #0d1117"><code><span class=line><span style="color: #FF7B72">var</span><span style="color: #C9D1D9"> a </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">undefined</span><span style="color: #C9D1D9">;</span></span>
<span class=line><span style="color: #79C0FF">Object</span><span style="color: #C9D1D9">.</span><span style="color: #79C0FF">prototype</span><span style="color: #C9D1D9">.toString.</span><span style="color: #D2A8FF">apply</span><span style="color: #C9D1D9">(a); </span><span style="color: #8B949E">//[object Undefined]</span></span>
<span class=line><span style="color: #FF7B72">var</span><span style="color: #C9D1D9"> b </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">new</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">Date</span><span style="color: #C9D1D9">();</span></span>
<span class=line><span style="color: #79C0FF">Object</span><span style="color: #C9D1D9">.</span><span style="color: #79C0FF">prototype</span><span style="color: #C9D1D9">.toString.</span><span style="color: #D2A8FF">apply</span><span style="color: #C9D1D9">(b); </span><span style="color: #8B949E">//[object Date]</span></span></code></pre></div>
</code></pre></li></ul><p>最后如果需要判断某一数据的具体类型，可以采用下面这个函数：</p><pre><code class=language-javascript><div class=shiki-light><pre class=shiki style="background-color: #ffffff"><code><span class=line><span style="color: #D73A49">function</span><span style="color: #24292E"> </span><span style="color: #6F42C1">typeOf</span><span style="color: #24292E">(</span><span style="color: #E36209">item</span><span style="color: #24292E">) {</span></span>
<span class=line><span style="color: #24292E">  </span><span style="color: #6A737D">//对于IE8以下不支持null和undefined检测的hack</span></span>
<span class=line><span style="color: #24292E">  </span><span style="color: #D73A49">if</span><span style="color: #24292E"> (item </span><span style="color: #D73A49">===</span><span style="color: #24292E"> </span><span style="color: #005CC5">null</span><span style="color: #24292E">) {</span></span>
<span class=line><span style="color: #24292E">    </span><span style="color: #D73A49">return</span><span style="color: #24292E"> </span><span style="color: #032F62">&quot;null&quot;</span><span style="color: #24292E">;</span></span>
<span class=line><span style="color: #24292E">  }</span></span>
<span class=line><span style="color: #24292E">  </span><span style="color: #D73A49">if</span><span style="color: #24292E"> (item </span><span style="color: #D73A49">===</span><span style="color: #24292E"> </span><span style="color: #005CC5">undefined</span><span style="color: #24292E">) {</span></span>
<span class=line><span style="color: #24292E">    </span><span style="color: #D73A49">return</span><span style="color: #24292E"> </span><span style="color: #032F62">&quot;undefined&quot;</span><span style="color: #24292E">;</span></span>
<span class=line><span style="color: #24292E">  }</span></span>
<span class=line><span style="color: #24292E">  </span><span style="color: #D73A49">var</span><span style="color: #24292E"> result </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span><span style="color: #005CC5">Object</span><span style="color: #24292E">.</span><span style="color: #005CC5">prototype</span><span style="color: #24292E">.toString.</span><span style="color: #6F42C1">apply</span><span style="color: #24292E">(item);</span></span>
<span class=line><span style="color: #24292E">  result </span><span style="color: #D73A49">=</span><span style="color: #24292E"> result.</span><span style="color: #6F42C1">slice</span><span style="color: #24292E">(</span><span style="color: #005CC5">8</span><span style="color: #24292E">, </span><span style="color: #D73A49">-</span><span style="color: #005CC5">1</span><span style="color: #24292E">).</span><span style="color: #6F42C1">toLowerCase</span><span style="color: #24292E">();</span></span>
<span class=line><span style="color: #24292E">  </span><span style="color: #D73A49">return</span><span style="color: #24292E"> result;</span></span>
<span class=line><span style="color: #24292E">}</span></span>
<span class=line></span>
<span class=line><span style="color: #6F42C1">typeOf</span><span style="color: #24292E">(</span><span style="color: #005CC5">null</span><span style="color: #24292E">); </span><span style="color: #6A737D">//null</span></span>
<span class=line><span style="color: #6F42C1">typeOf</span><span style="color: #24292E">(</span><span style="color: #005CC5">1</span><span style="color: #24292E">); </span><span style="color: #6A737D">//number</span></span>
<span class=line><span style="color: #6F42C1">typeOf</span><span style="color: #24292E">(</span><span style="color: #032F62">&quot;123&quot;</span><span style="color: #24292E">); </span><span style="color: #6A737D">//string</span></span>
<span class=line><span style="color: #6F42C1">typeOf</span><span style="color: #24292E">(</span><span style="color: #005CC5">false</span><span style="color: #24292E">); </span><span style="color: #6A737D">//boolean</span></span>
<span class=line><span style="color: #6F42C1">typeOf</span><span style="color: #24292E">(</span><span style="color: #D73A49">function</span><span style="color: #24292E">(){}); </span><span style="color: #6A737D">//function</span></span>
<span class=line><span style="color: #6F42C1">typeOf</span><span style="color: #24292E">(</span><span style="color: #D73A49">new</span><span style="color: #24292E"> </span><span style="color: #005CC5">Date</span><span style="color: #24292E">()); </span><span style="color: #6A737D">// date</span></span>
<span class=line><span style="color: #6F42C1">typeOf</span><span style="color: #24292E">([</span><span style="color: #005CC5">1</span><span style="color: #24292E">,</span><span style="color: #005CC5">2</span><span style="color: #24292E">,</span><span style="color: #005CC5">3</span><span style="color: #24292E">]); </span><span style="color: #6A737D">//array</span></span>
<span class=line><span style="color: #6F42C1">typeOf</span><span style="color: #24292E">(window); </span><span style="color: #6A737D">//window</span></span></code></pre></div><div class=shiki-dark><pre class=shiki style="background-color: #0d1117"><code><span class=line><span style="color: #FF7B72">function</span><span style="color: #C9D1D9"> </span><span style="color: #D2A8FF">typeOf</span><span style="color: #C9D1D9">(</span><span style="color: #FFA657">item</span><span style="color: #C9D1D9">) {</span></span>
<span class=line><span style="color: #C9D1D9">  </span><span style="color: #8B949E">//对于IE8以下不支持null和undefined检测的hack</span></span>
<span class=line><span style="color: #C9D1D9">  </span><span style="color: #FF7B72">if</span><span style="color: #C9D1D9"> (item </span><span style="color: #FF7B72">===</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">null</span><span style="color: #C9D1D9">) {</span></span>
<span class=line><span style="color: #C9D1D9">    </span><span style="color: #FF7B72">return</span><span style="color: #C9D1D9"> </span><span style="color: #A5D6FF">&quot;null&quot;</span><span style="color: #C9D1D9">;</span></span>
<span class=line><span style="color: #C9D1D9">  }</span></span>
<span class=line><span style="color: #C9D1D9">  </span><span style="color: #FF7B72">if</span><span style="color: #C9D1D9"> (item </span><span style="color: #FF7B72">===</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">undefined</span><span style="color: #C9D1D9">) {</span></span>
<span class=line><span style="color: #C9D1D9">    </span><span style="color: #FF7B72">return</span><span style="color: #C9D1D9"> </span><span style="color: #A5D6FF">&quot;undefined&quot;</span><span style="color: #C9D1D9">;</span></span>
<span class=line><span style="color: #C9D1D9">  }</span></span>
<span class=line><span style="color: #C9D1D9">  </span><span style="color: #FF7B72">var</span><span style="color: #C9D1D9"> result </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">Object</span><span style="color: #C9D1D9">.</span><span style="color: #79C0FF">prototype</span><span style="color: #C9D1D9">.toString.</span><span style="color: #D2A8FF">apply</span><span style="color: #C9D1D9">(item);</span></span>
<span class=line><span style="color: #C9D1D9">  result </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> result.</span><span style="color: #D2A8FF">slice</span><span style="color: #C9D1D9">(</span><span style="color: #79C0FF">8</span><span style="color: #C9D1D9">, </span><span style="color: #FF7B72">-</span><span style="color: #79C0FF">1</span><span style="color: #C9D1D9">).</span><span style="color: #D2A8FF">toLowerCase</span><span style="color: #C9D1D9">();</span></span>
<span class=line><span style="color: #C9D1D9">  </span><span style="color: #FF7B72">return</span><span style="color: #C9D1D9"> result;</span></span>
<span class=line><span style="color: #C9D1D9">}</span></span>
<span class=line></span>
<span class=line><span style="color: #D2A8FF">typeOf</span><span style="color: #C9D1D9">(</span><span style="color: #79C0FF">null</span><span style="color: #C9D1D9">); </span><span style="color: #8B949E">//null</span></span>
<span class=line><span style="color: #D2A8FF">typeOf</span><span style="color: #C9D1D9">(</span><span style="color: #79C0FF">1</span><span style="color: #C9D1D9">); </span><span style="color: #8B949E">//number</span></span>
<span class=line><span style="color: #D2A8FF">typeOf</span><span style="color: #C9D1D9">(</span><span style="color: #A5D6FF">&quot;123&quot;</span><span style="color: #C9D1D9">); </span><span style="color: #8B949E">//string</span></span>
<span class=line><span style="color: #D2A8FF">typeOf</span><span style="color: #C9D1D9">(</span><span style="color: #79C0FF">false</span><span style="color: #C9D1D9">); </span><span style="color: #8B949E">//boolean</span></span>
<span class=line><span style="color: #D2A8FF">typeOf</span><span style="color: #C9D1D9">(</span><span style="color: #FF7B72">function</span><span style="color: #C9D1D9">(){}); </span><span style="color: #8B949E">//function</span></span>
<span class=line><span style="color: #D2A8FF">typeOf</span><span style="color: #C9D1D9">(</span><span style="color: #FF7B72">new</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">Date</span><span style="color: #C9D1D9">()); </span><span style="color: #8B949E">// date</span></span>
<span class=line><span style="color: #D2A8FF">typeOf</span><span style="color: #C9D1D9">([</span><span style="color: #79C0FF">1</span><span style="color: #C9D1D9">,</span><span style="color: #79C0FF">2</span><span style="color: #C9D1D9">,</span><span style="color: #79C0FF">3</span><span style="color: #C9D1D9">]); </span><span style="color: #8B949E">//array</span></span>
<span class=line><span style="color: #D2A8FF">typeOf</span><span style="color: #C9D1D9">(window); </span><span style="color: #8B949E">//window</span></span></code></pre></div>
</code></pre><p><em>ref：</em></p><p><em>javascript高级程序设计（第3版）</em></p><p>*<a href=https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/toString>MDN*</a></p></div><div class=footer><hr><div class=footer-link><a href=/archive><i class="fa fa-archive" aria-hidden=true></i></a><a target=_blank href=https://twitter.com/chow_won><i class="fa fa-twitter" aria-hidden=true></i></a> <a target=_blank href=https://github.com/zoubingwu><i class="fa fa-github" aria-hidden=true></i></a> <a target=_blank href=mailto:zoubingwu@gmail.com><i class="fa fa-envelope" aria-hidden=true></i></a></div>© 2016-2021 zoubingwu. All rights reserved.</div></div></body></html>